
(defvar weidu-baf-mode-hook nil)
(defvar weidu-baf-mode-map
  (let ((map (make-keymap)))
    (define-key map (kbd "RET") 'weidu-baf-indent-newline-indent)
    (define-key map (kbd "C-M-q") 'weidu-baf-indent-block)
    map))

(add-to-list 'auto-mode-alist '("\\.[Bb][Aa][Ff]\\'" . weidu-baf-mode))

(defconst weidu-baf-triggers (regexp-opt '("Acquired" "AttackedBy" "Help" "Joins" "Leaves" "ReceivedOrder" "Said" "TurnedBy" "Unusable" "Alignment" "Allegiance" "Class" "Exists" "General" "Global" "HP" "HPGT" "HPLT" "LOS" "Morale" "MoraleGT" "MoraleLT" "Race" "Range" "Reputation" "ReputationGT" "ReputationLT" "See" "Specifics" "Time" "TimeOfDay" "HitBy" "HotKey" "TimerExpired" "True" "Trigger" "Die" "TargetUnreachable" "Delay" "NumCreature" "NumCreatureLT" "NumCreatureGT" "ActionListEmpty" "HPPercent" "HPPercentLT" "HPPercentGT" "Heard" "False" "HaveSpell" "HaveAnySpells" "BecameVisible" "GlobalGT" "GlobalLT" "OnCreation" "StateCheck" "NotStateCheck" "NumTimesTalkedTo" "NumTimesTalkedToGT" "NumTimesTalkedToLT" "Reaction" "ReactionGT" "ReactionLT" "GlobalTimerExact" "GlobalTimerExpired" "GlobalTimerNotExpired" "PartyHasItem" "InParty" "CheckStat" "CheckStatGT" "CheckStatLT" "RandomNum" "RandomNumGT" "RandomNumLT" "Died" "Killed" "Entered" "Gender" "PartyGold" "PartyGoldGT" "PartyGoldLT" "Dead" "Opened" "Closed" "Detected" "Reset" "Disarmed" "Unlocked" "OutOfAmmo" "NumTimesInteracted" "NumTimesInteractedGT" "NumTimesInteractedLT" "BreakingPoint" "PickPocketFailed" "StealFailed" "DisarmFailed" "PickLockFailed" "HasItem" "InteractingWith" "InWeaponRange" "HasWeaponEquiped" "Happiness" "HappinessGT" "HappinessLT" "TimeGT" "TimeLT" "NumInParty" "NumInPartyGT" "NumInPartyLT" "UnselectableVariable" "UnselectableVariableGT" "UnselectableVariableLT" "Clicked" "NumberOfTimesTalkedTo" "NumDead" "NumDeadGT" "NumDeadLT" "Detect" "Contains" "OpenState" "NumItems" "NumItemsGT" "NumItemsLT" "NumItemsParty" "NumItemsPartyGT" "NumItemsPartyLT" "IsOverMe" "AreaCheck" "HasItemEquiped" "NumCreatureVsParty" "NumCreatureVsPartyLT" "NumCreatureVsPartyGT" "CombatCounter" "CombatCounterLT" "CombatCounterGT" "AreaType" "TrapTriggered" "PartyMemberDied" "OR" "InPartySlot" "SpellCast" "InLine" "PartyRested" "Level" "LevelGT" "LevelLT" "Summoned" "GlobalsEqual" "GlobalsGT" "GlobalsLT" "LocalsEqual" "LocalsGT" "LocalsLT" "ObjectActionListEmpty" "OnScreen" "InActiveArea" "SpellCastOnMe" "CalanderDay" "CalanderDayGT" "CalanderDayLT" "Name" "SpellCastPriest" "SpellCastInnate" "IsValidForPartyDialog" "IfValidForPartyDialog" "IsValidForPartyDialogue" "IfValidForPartyDialogue" "PartyHasItemIdentified" "HasBounceEffects" "HasImmunityEffects" "HasItemSlot" "PersonalSpaceDistance" "InMyGroup" "RealGlobalTimerExact" "RealGlobalTimerExpired" "RealGlobalTimerNotExpired" "NumInPartyAlive" "NumInPartyAliveGT" "NumInPartyAliveLT" "Kit" "IsGabber" "IsActive" "CharName" "FallenRanger" "FallenPaladin" "InventoryFull" "HasItemEquipedReal" "XP" "XPGT" "XPLT" "G" "GGT" "GLT" "ModalState" "InMyArea" "TookDamage" "DamageTaken" "DamageTakenGT" "DamageTakenLT" "Difficulty" "DifficultyGT" "DifficultyLT" "InPartyAllowDead" "AreaCheckObject" "ActuallyInCombat" "WalkedToTrigger" "LevelParty" "LevelPartyGT" "LevelPartyLT" "HaveSpellParty" "HaveSpellRES" "AmIInWatchersKeepPleaseIgnoreTheLackOfApostophe" "InWatchersKeep") 'words))

(defconst weidu-baf-actions (regexp-opt '("NoAction" "ActionOverride" "AddWayPoint" "Attack" "BackStab" "CreateCreature" "Dialogue" "DropItem" "Enemy" "EquipItem" "FindTraps" "GetItem" "GiveItem" "GiveOrder" "Help" "Hide" "JoinParty" "LayHands" "LeaveParty" "MoveToObject" "MoveToPoint" "Panic" "PickPockets" "PlaySound" "ProtectPoint" "RemoveTraps" "RunAwayFrom" "SetGlobal" "Spell" "SpellRES" "Turn" "UseItem" "Continue" "FollowPath" "Swing" "Recoil" "PlayDead" "Formation" "JumpToPoint" "MoveViewPoint" "MoveViewObject" "ClickLButtonPoint" "ClickLButtonObject" "ClickRButtonPoint" "ClickRButtonObject" "DoubleClickLButtonPoint" "DoubleClickLButtonObject" "DoubleClickRButtonPoint" "DoubleClickRButtonObject" "MoveCursorPoint" "ChangeAIScript" "StartTimer" "SendTrigger" "Wait" "UndoExplore" "Explore" "DayNight" "Weather" "CallLightning" "VEquip" "NIDSpecial1" "CreateItem" "SmallWait" "Face" "RandomWalk" "SetInterrupt" "ProtectObject" "Leader" "Follow" "MoveToPointNoRecticle" "LeaveArea" "SelectWeaponAbility" "LeaveAreaName" "GroupAttack" "SpellPoint" "SpellPointRES" "Rest" "UseItemPoint" "AttackNoSound" "RandomFly" "FlyToPoint" "MoraleSet" "MoraleInc" "MoraleDec" "AttackOneRound" "Shout" "MoveToOffset" "EscapeArea" "IncrementGlobal" "LeaveAreaLUA" "DestroySelf" "UseContainer" "ForceSpell" "ForceSpellPoint" "SetGlobalTimer" "TakePartyItem" "TakePartyGold" "GivePartyGold" "DropInventory" "StartCutScene" "StartCutSceneMode" "EndCutSceneMode" "ClearAllActions" "Berserk" "Deactivate" "Activate" "CutSceneId" "AnkhegEmerge" "AnkhegHide" "RandomTurn" "Kill" "VerbalConstant" "ClearActions" "AttackReevaluate" "LockScroll" "UnlockScroll" "StartDialog" "SetDialog" "PlayerDialog" "PlayerDialogue" "GiveItemCreate" "GivePartyGoldGlobal" "UseDoor" "OpenDoor" "CloseDoor" "PickLock" "Polymorph" "RemoveSpell" "RemoveSpellRES" "BashDoor" "EquipMostDamagingMelee" "StartStore" "DisplayString" "ChangeAIType" "ChangeEnemyAlly" "ChangeGeneral" "ChangeRace" "ChangeClass" "ChangeSpecifics" "ChangeGender" "ChangeAlignment" "ApplySpell" "ApplySpellRES" "IncrementChapter" "ReputationSet" "ReputationInc" "AddexperienceParty" "AddExperiencePartyGlobal" "SetNumTimesTalkedTo" "StartMovie" "Interact" "DestroyItem" "RevealAreaOnMap" "GiveGoldForce" "ChangeTileState" "AddJournalEntry" "EquipRanged" "SetLeavePartyDialogFile" "EscapeAreaDestroy" "TriggerActivation" "BreakInstants" "DialogInterrupt" "DialogueInterrupt" "MoveToObjectFollow" "ReallyForceSpell" "ReallyForceSpellRES" "MakeUnselectable" "MultiPlayerSync" "RunAwayFromNoInterrupt" "SetMasterArea" "EndCredits" "StartMusic" "TakePartyItemAll" "LeaveAreaLUAPanic" "SaveGame" "SpellNoDec" "SpellPointNoDec" "TakePartyItemRange" "ChangeAnimation" "Lock" "Unlock" "MoveGlobal" "StartDialogueNoSet" "StartDialogNoSet" "TextScreen" "RandomWalkContinuous" "DetectSecretDoor" "FadeToColor" "FadeFromColor" "TakePartyItemNum" "WaitWait" "MoveToPointNoInterrupt" "MoveToObjectNoInterrupt" "SpawnPtActivate" "SpawnPtDeactivate" "SpawnPtSpawn" "GlobalShout" "StaticStart" "StaticStop" "FollowObjectFormation" "AddFamiliar" "RemoveFamiliar" "PauseGame" "ChangeAnimationNoEffect" "TakeItemListParty" "SetMoraleAI" "IncMoraleAI" "DestroyAllEquipment" "GivePartyAllEquipment" "MoveBetweenAreas" "MoveBetweenAreasEffect" "TakeItemListPartyNum" "CreateCreatureObject" "CreateCreatureImpassable" "FaceObject" "RestParty" "CreateCreatureDoor" "CreateCreatureObjectDoor" "CreateCreatureObjectOffScreen" "MoveGlobalObjectOffScreen" "SetQuestDone" "StorePartyLocations" "RestorePartyLocations" "CreateCreatureOffScreen" "MoveToCenterOfScreen" "ReallyForceSpellDead" "Calm" "Ally" "RestNoSpells" "SaveLocation" "SaveObjectLocation" "CreateCreatureAtLocation" "SetToken" "SetTokenObject" "SetGabber" "CreateCreatureObjectCopy" "HideAreaOnMap" "CreateCreatureObjectOffset" "ContainerEnable" "ScreenShake" "AddGlobals" "CreateItemNumGlobal" "PickUpItem" "FillSlot" "AddXPObject" "DestroyGold" "SetHomeLocation" "DisplayStringNoName" "EraseJournalEntry" "CopyGroundPilesTo" "DialogueForceInterrupt" "DialogForceInterrupt" "StartDialogInterrupt" "StartDialogueInterrupt" "StartDialogueNoSetInterrupt" "StartDialogNoSetInterrupt" "RealSetGlobalTimer" "DisplayStringHead" "PolymorphCopy" "VerbalConstantHead" "CreateVisualEffect" "CreateVisualEffectObject" "AddKit" "StartCombatCounter" "EscapeAreaNoSee" "EscapeAreaObject" "EscapeAreaObjectMove" "TakeItemReplace" "AddSpecialAbility" "DestroyAllDestructableEquipment" "RemovePaladinHood" "RemoveRangerHood" "RegainPaladinHood" "RegainRangerHood" "PolymorphCopyBase" "HideGUI" "UnhideGUI" "SetName" "AddSuperKit" "PlayDeadInterruptable" "PlayDeadInterruptible" "MoveGlobalObject" "DisplayStringHeadOwner" "StartDialogOverride" "StartDialogOverride" "StartDialogOverrideInterrupt" "CreateCreatureCopyPoint" "BattleSong" "MoveToSavedLocation" "MoveToSavedLocationn" "ApplyDamage" "BanterBlockTime" "BanterBlockFlag" "AmbientActivate" "AttachTransitionToDoor" "DeathMatchPositionGlobal" "DeathMatchPositionArea" "DeathMatchPositionLocal" "ApplyDamagePercent" "SG" "AddMapNote" "DemoEnd" "MoveGlobalsTo" "DisplayStringWait" "StateOverrideTime" "StateOverrideFlag" "SetRestEncounterProbabilityDay" "SetRestEncounterProbabilityNight" "SoundActivate" "PlaySong" "ForceSpellRange" "ForceSpellPointRange" "SetPlayerSound" "SetAreaRestFlag" "FakeEffectExpiryCheck" "CreateCreatureImpassableAllowOverlap" "SetBeenInPartyFlags" "GoToStartScreen" "ExitPocketPlane" "AddXP2DA" "RemoveMapNote" "TriggerWalkTo" "AddAreaType" "RemoveAreaType" "AddAreaFlags" "RemoveAreaFlags" "StartDialogNoName" "SetTokenGlobal" "MakeGlobal" "ReallyForceSpellPoint" "SetCutSceneLite" "CutAllowScripts" "SetCursorState" "SwingOnce" "StaticSequence" "StaticPalette" "DisplayStringHeadDead" "MoveToExpansion" "StartRainNow" "SetSequence" "DisplayStringNoNameHead" "SetEncounterProbability" "SetupWish" "SetupWishObject" "LeaveAreaLUAEntry" "LeaveAreaLUAPanicEntry" "ForceSpellRES") 'words))

(defconst weidu-baf-constants (regexp-opt '("TRUE" "FALSE" "DEFAULT" "MELEE" "RANGED" "NONE" "LAWFUL_GOOD" "LAWFUL_NEUTRAL" "LAWFUL_EVIL" "NEUTRAL_GOOD" "NEUTRAL" "NEUTRAL_EVIL" "CHAOTIC_GOOD" "CHAOTIC_NEUTRAL" "CHAOTIC_EVIL" "MASK_GOOD" "MASK_GENEUTRAL" "MASK_EVIL" "MASK_LAWFUL" "MASK_LCNEUTRAL" "MASK_CHAOTIC" "OUTDOOR" "DAYNIGHT" "WEATHER" "CITY" "FOREST" "DUNGEON" "EXTENDEDNIGHT" "CANRESTOTHER" "MAGE" "FIGHTER" "CLERIC" "THIEF" "BARD" "PALADIN" "FIGHTER_MAGE" "FIGHTER_CLERIC" "FIGHTER_THIEF" "FIGHTER_MAGE_THIEF" "DRUID" "RANGER" "MAGE_THIEF" "CLERIC_MAGE" "CLERIC_THIEF" "FIGHTER_DRUID" "FIGHTER_MAGE_CLERIC" "CLERIC_RANGER" "SORCERER" "MONK" "ANKHEG" "BASILISK" "BASILISK_GREATER" "BEAR_BLACK" "BEAR_BROWN" "BEAR_CAVE" "BEAR_POLAR" "CARRIONCRAWLER" "DOG_WILD" "DOG_WAR" "DOPPLEGANGER" "DOPPLEGANGER_GREATER" "DRIZZT" "ELMINSTER" "ETTERCAP" "GHOUL" "GHOUL_REVEANT" "GHOUL_GHAST" "GIBBERLING" "GNOLL" "HOBGOBLIN" "KOBOLD" "KOBOLD_TASLOI" "KOBOLD_XVART" "OGRE" "OGRE_MAGE" "OGRE_HALFOGRE" "OGRE_OGRILLON" "SAREVOK" "FAIRY_SIRINE" "FAIRY_DRYAD" "FAIRY_NEREID" "FAIRY_NYMPH" "SKELETON" "SKELETON_WARRIOR" "SKELETON_BANEGUARD" "SPIDER_GIANT" "SPIDER_HUGE" "SPIDER_PHASE" "SPIDER_SWORD" "SPIDER_WRAITH" "VOLO" "WOLF" "WOLF_WORG" "WOLF_DIRE" "WOLF_WINTER" "WOLF_VAMPIRIC" "WOLF_DREAD" "WYVERN" "OLIVE_SLIME" "MUSTARD_JELLY" "OCRE_JELLY" "GREY_OOZE" "GREEN_SLIME" "INNOCENT" "FLAMING_FIST" "WEREWOLF" "WOLFWERE" "DEATHKNIGHT" "TANARI" "BEHOLDER" "MIND_FLAYER" "VAMPIRE" "VAMPYRE" "OTYUGH" "RAKSHASA" "TROLL" "UMBERHULK" "SAHUAGIN" "SHADOW" "SPECTRE" "WRAITH" "KUO-TOA" "MIST" "CAT" "DUERGAR" "MEPHIT" "MIMIC" "IMP" "GIANT" "ORC" "GOLEM_IRON" "GOLEM_FLESH" "GOLEM_STONE" "GOLEM_CLAY" "ELEMENTAL_AIR" "ELEMENTAL_FIRE" "ELEMENTAL_EARTH" "SPIDER_CENTEOL" "RED_DRAGON" "SHADOW_DRAGON" "SILVER_DRAGON" "GENIE_DJINNI" "GENIE_DAO" "GENIE_EFREETI" "GENIE_NOBLE_DJINNI" "GENIE_NOBLE_EFREETI" "ZOMBIE_NORMAL" "FOOD_CREATURE" "HUNTER_CREATURE" "NO_CLASS" "LONG_SWORD" "LONG_BOW" "MAGE_ALL" "FIGHTER_ALL" "CLERIC_ALL" "THIEF_ALL" "BARD_ALL" "PALADIN_ALL" "DRUID_ALL" "RANGER_ALL" "WIZARD_EYE" "V1.0" "ACID" "COLD" "CRUSHING" "ELECTRICITY" "FIRE" "PIERCING" "POISON" "MAGIC" "MISSILE" "SLASHING" "MAGICFIRE" "MAGICCOLD" "STUNNING" "EASIEST" "EASY" "NORMAL" "HARD" "HARDEST" "INANIMATE" "PC" "FAMILIAR" "ALLY" "CONTROLLED" "CHARMED" "GOODBUTRED" "GOODBUTBLUE" "GOODCUTOFF" "NOTGOOD" "ANYTHING" "NEUTRAL" "NOTEVIL" "EVILCUTOFF" "EVILBUTGREEN" "EVILBUTBLUE" "ENEMY" "ANYONE" "MALE" "FEMALE" "OTHER" "NIETHER" "BOTH" "SUMMONED" "ILLUSIONARY" "EXTRA" "SUMMONED_DEMON" "EXTRA2" "EXTRA3" "EXTRA4" "EXTRA5" "EXTRA6" "EXTRA7" "EXTRA8" "EXTRA9" "EXTRA10" "IMPRISONED_SUMMONED" "HUMANOID" "ANIMAL" "DEAD" "UNDEAD" "GIANTHUMANOID" "FROZEN" "MONSTER" "WEAPON" "ARMOR" "AMULET" "BELT" "BOOTS" "AMMO" "GENERAL_ITEM" "HELMET" "KEY" "POTION" "RING" "SCROLL" "SHIELD" "GLOVES" "ONE_DAY" "TWO_DAYS" "THREE_DAYS" "FOUR_DAYS" "FIVE_DAYS" "SIX_DAYS" "SEVEN_DAYS" "EIGHT_DAYS" "NINE_DAYS" "TEN_DAYS" "ELEVEN_DAYS" "TWELVE_DAYS" "THIRTEEN_DAYS" "FOURTEEN_DAYS" "FIFTEEN_DAYS" "THIRTY_DAYS" "FIFTY_DAYS" "UNHAPPY_BREAKING_BOUNDARY" "UNHAPPY_ANGRY_BOUNDARY" "UNHAPPY_ANNOYED_BOUNDARY" "HAPPY_HAPPY_BOUNDARY" "V1.0" "USER" "QUEST" "QUEST_DONE" "INFO" "TRUECLASS" "BERSERKER" "WIZARDSLAYER" "KENSAI" "CAVALIER" "INQUISITOR" "UNDEADHUNTER" "MAGESCHOOL_ABJURER" "MAGESCHOOL_CONJURER" "MAGESCHOOL_DIVINER" "MAGESCHOOL_ENCHANTER" "MAGESCHOOL_ILLUSIONIST" "MAGESCHOOL_INVOKER" "MAGESCHOOL_NECROMANCER" "MAGESCHOOL_TRANSMUTER" "MAGESCHOOL_GENERALIST" "FERALAN" "STALKER" "BEASTMASTER" "ASSASIN" "BOUNTYHUNTER" "SWASHBUCKLER" "BLADE" "JESTER" "SKALD" "GODTALOS" "GODHELM" "GODLATHANDER" "TOTEMIC" "SHAPESHIFTER" "BEASTFRIEND" "BARBARIAN" "WILDMAGE" "NONE" "BATTLESONG" "DETECTTRAPS" "STEALTH" "TURNUNDEAD" "HUMAN" "ELF" "HALF_ELF" "DWARF" "HALFLING" "GNOME" "HALFORC" "ANKHEG" "BASILISK" "BEAR" "CARRIONCRAWLER" "DOG" "DOPPLEGANGER" "ETTERCAP" "GHOUL" "GIBBERLING" "GNOLL" "HOBGOBLIN" "KOBOLD" "OGRE" "SKELETON" "SPIDER" "WOLF" "WYVERN" "SLIME" "FAIRY" "DEMONIC" "LYCANTHROPE" "BEHOLDER" "MIND_FLAYER" "VAMPIRE" "VAMPYRE" "OTYUGH" "RAKSHASA" "TROLL" "UMBERHULK" "SAHUAGIN" "SHADOW" "SPECTRE" "WRAITH" "KUO-TOA" "MIST" "CAT" "DUERGAR" "MEPHIT" "MIMIC" "IMP" "GIANT" "ORC" "GOLEM" "ELEMENTAL" "DRAGON" "GENIE" "ZOMBIE" "STATUE" "LICH" "RABBIT" "GITHYANKI" "TIEFLING" "YUANTI" "DEMILICH" "SOLAR" "ANTISOLAR" "PLANATAR" "DARKPLANATAR" "NO_RACE" "SWORD" "BOW" "XBOW" "STAFF" "SLING" "MACE" "DAGGER" "SPEAR" "FIST" "HAMMER" "MORNINGSTAR" "ROBES" "LEATHER" "CHAIN" "PLATE" "ETTIN" "FRIENDLY_LOWER" "FRIENDLY_UPPER" "NEUTRAL_UPPER" "NEUTRAL_LOWER" "HOSTILE_UPPER" "HOSTILE_LOWER" "OVERRIDE" "AREA" "SPECIFICS" "CLASS" "RACE" "GENERAL" "DEFAULT" "INSTANT" "SLOW" "STANDARD" "FAST" "VERY_FAST" "SEQ_ATTACK" "SEQ_AWAKE" "SEQ_CAST" "SEQ_CONJURE" "SEQ_DAMAGE" "SEQ_DIE" "SEQ_HEAD_TURN" "SEQ_READY" "SEQ_SHOOT" "SEQ_TWITCH" "SEQ_WALK" "SEQ_ATTACK_SLASH" "SEQ_ATTACK_BACKSLASH" "SEQ_ATTACK_JAB" "SEQ_EMERGE" "SEQ_HIDE" "SEQ_SLEEP" "HEALME" "ASSIST" "ALERT" "SOLAR_STANCE" "SLOT_AMULET" "SLOT_ARMOR" "SLOT_BELT" "SLOT_BOOTS" "SLOT_CLOAK" "SLOT_GAUNTLETS" "SLOT_HELMET" "SLOT_RING_LEFT" "SLOT_RING_RIGHT" "SLOT_SHIELD" "SLOT_FIST" "SLOT_AMMO" "SLOT_MISC" "SLOT_WEAPON" "SLOT_AMMO0" "SLOT_AMMO1" "SLOT_AMMO2" "SLOT_AMMO3" "SLOT_MISC0" "SLOT_MISC1" "SLOT_MISC2" "SLOT_MISC3" "SLOT_MISC4" "SLOT_MISC5" "SLOT_MISC6" "SLOT_MISC7" "SLOT_MISC8" "SLOT_MISC9" "SLOT_MISC10" "SLOT_MISC11" "SLOT_MISC12" "SLOT_MISC13" "SLOT_MISC14" "SLOT_MISC15" "SLOT_MISC16" "SLOT_MISC17" "SLOT_MISC18" "SLOT_MISC19" "SLOT_WEAPON0" "SLOT_WEAPON1" "SLOT_WEAPON2" "SLOT_WEAPON3" "V1.0" "INITIAL_MEETING" "MORALE" "HAPPY" "UNHAPPY_ANNOYED" "UNHAPPY_SERIOUS" "UNHAPPY_BREAKING_POINT" "LEADER" "TIRED" "BORED" "BATTLE_CRY1" "BATTLE_CRY2" "BATTLE_CRY3" "BATTLE_CRY4" "BATTLE_CRY5" "ATTACK1" "ATTACK2" "ATTACK3" "ATTACK4" "DAMAGE" "DYING" "HURT" "AREA_FOREST" "AREA_CITY" "AREA_DUNGEON" "AREA_DAY" "AREA_NIGHT" "SELECT_COMMON1" "SELECT_COMMON2" "SELECT_COMMON3" "SELECT_COMMON4" "SELECT_COMMON5" "SELECT_COMMON6" "SELECT_ACTION1" "SELECT_ACTION2" "SELECT_ACTION3" "SELECT_ACTION4" "SELECT_ACTION5" "SELECT_ACTION6" "SELECT_ACTION7" "INTERACTION1" "INTERACTION2" "INTERACTION3" "INTERACTION4" "INTERACTION5" "INSULT" "COMPLIMENT1" "COMPLIMENT2" "COMPLIMENT3" "SPECIAL1" "SPECIAL2" "SPECIAL3" "REACT_TO_DIE_GENERAL" "REACT_TO_DIE_SPECIFIC" "MISCELLANEOUS" "RESPONSE_TO_COMPLIMENT1" "RESPONSE_TO_COMPLIMENT2" "RESPONSE_TO_COMPLIMENT3" "RESPONSE_TO_INSULT1" "RESPONSE_TO_INSULT2" "RESPONSE_TO_INSULT3" "DIALOG_HOSTILE" "DIALOG_DEFAULT" "SELECT_RARE1" "SELECT_RARE2" "CRITICAL_HIT" "CRITICAL_MISS" "TARGET_IMMUNE" "INVENTORY_FULL" "PICKED_POCKET" "EXISTANCE1" "EXISTANCE2" "EXISTANCE3" "EXISTANCE4" "EXISTANCE5" "HIDDEN_IN_SHADOWS" "SPELL_DISRUPTED" "SET_A_TRAP" "INITIAL_MEETING" "MORALE" "HAPPY" "UNHAPPY_ANNOYED" "UNHAPPY_SERIOUS" "UNHAPPY_BREAKING_POINT" "LEADER" "TIRED" "BORED" "BATTLE_CRY" "ATTACK" "DAMAGE" "DYING" "HURT" "AREA_FOREST" "AREA_CITY" "AREA_DUNGEON" "AREA_DAY" "AREA_NIGHT" "SELECT_COMMON" "SELECT_ACTION" "SELECT_RARE" "INTERACTION" "INSULT" "COMPLIMENT" "SPECIAL" "REACT_TO_DIE_GENERAL" "REACT_TO_DIE_SPECIFIC" "MISCELLANEOUS" "RESPONSE_TO_COMPLIMENT" "RESPONSE_TO_INSULT" "DIALOG_HOSTILE" "DIALOG_DEFAULT" "NORMAL" "MAGIC" "NO_MAGIC" "CLERIC_BLESS" "CLERIC_COMMAND" "CLERIC_CURE_LIGHT_WOUNDS" "CLERIC_DETECT_EVIL" "CLERIC_ENTANGLE" "CLERIC_MAGIC_STONE" "CLERIC_PROTECT_FROM_EVIL" "CLERIC_REMOVE_FEAR" "CLERIC_SANCTUARY" "CLERIC_SHILLELAGH" "CLERIC_ARMOR_OF_FAITH" "CLERIC_CIRCLE_OF_PROTECTION" "CLERIC_DOOM" "CLERIC_ANIMAL_FRIENDSHIP" "CLERIC_ENDURE_HEAT_COLD" "CLERIC_AID" "CLERIC_BARKSKIN" "CLERIC_CHANT" "CLERIC_CHARM_PERSON" "CLERIC_FIND_TRAPS" "CLERIC_FLAME_BLADE" "CLERIC_GOOD_BERRIES" "CLERIC_HOLD_PERSON" "CLERIC_KNOW_ALIGNMENT" "CLERIC_RESIST_FIRE" "CLERIC_SILENCE_15_FOOT" "CLERIC_SLOW_POISON" "CLERIC_SPIRITUAL_HAMMER" "CLERIC_DRAW_UPON_HOLY_MIGHT" "CLERIC_RESIST_COLD" "CLERIC_ANIMATE_DEAD" "CLERIC_CALL_LIGHTNING" "CLERIC_DISPEL_MAGIC" "CLERIC_GLYPH_OF_WARDING" "CLERIC_HOLD_ANIMAL" "CLERIC_PROTECTION_FROM_FIRE" "CLERIC_REMOVE_CURSE" "CLERIC_REMOVE_PARALYSIS" "CLERIC_INVISIBILITY_PURGE" "CLERIC_MISCAST_MAGIC" "CLERIC_RIGID_THINKING" "CLERIC_STRENGTH_OF_ONE" "CLERIC_HOLY_SMITE" "CLERIC_UNHOLY_BLIGHT" "CLERIC_CURE_MEDIUM_WOUNDS" "CLERIC_CURE_BLIND_DEAF" "CLERIC_CURE_DISEASE" "CLERIC_ZONE_OF_SWEET_AIR" "CLERIC_SUMMON_INSECTS" "CLERIC_CURE_SERIOUS_WOUNDS" "CLERIC_ANIMAL_SUMMONING_1" "CLERIC_FREE_ACTION" "CLERIC_NEUTRALIZE_POISON" "CLERIC_MENTAL_DOMINATION" "CLERIC_DEFENSIVE_HARMONY" "CLERIC_PROTECTION_FROM_LIGHTNING" "CLERIC_PROTECTION_FROM_EVIL_10_FOOT" "CLERIC_DEATH_WARD" "CLERIC_CALL_WOODLAND_BEINGS" "CLERIC_POISON" "CLERIC_HOLY_POWER" "CLERIC_NEGATIVE_PLANE_PROTECTION" "CLERIC_CAUSE_SERIOUS_WOUNDS" "CLERIC_FAR_SIGHT" "CLERIC_CLOAK_OF_FEAR" "CLERIC_LESSER_RESTORATION" "CLERIC_ANIMAL_SUMMONING_2" "CLERIC_CURE_CRITICAL_WOUNDS" "CLERIC_FLAME_STRIKE" "CLERIC_RAISE_DEAD" "CLERIC_TRUE_SIGHT" "CLERIC_IRONSKIN" "CLERIC_CHAMPIONS_STRENGTH" "CLERIC_CHAOTIC_COMMANDS" "CLERIC_MAGIC_RESISTANCE" "CLERIC_CAUSE_CRITICAL_WOUNDS" "CLERIC_SLAY_LIVING" "CLERIC_GREATER_COMMAND" "CLERIC_RIGHTEOUS_MAGIC" "CLERIC_MASS_CURE" "CLERIC_REPULSE_UNDEAD" "CLERIC_PIXIE_DUST" "CLERIC_INSECT_PLAGUE" "CLERIC_AERIAL_SERVANT" "CLERIC_ANIMAL_SUMMONING_3" "CLERIC_BLADE_BARRIER" "CLERIC_CONJURE_ANIMALS" "CLERIC_CONJURE_FIRE_ELEMENTAL" "CLERIC_FIRE_SEEDS" "CLERIC_HEAL" "CLERIC_HARM" "CLERIC_FALSE_DAWN" "CLERIC_DOLOROUS_DECAY" "CLERIC_WONDROUS_RECALL" "CLERIC_BOLT_OF_GLORY" "CLERIC_PHYSICAL_MIRROR" "CLERIC_SOL_SEARING_ORB" "NPC_BLADE_BARRIER" "CLERIC_SHIELD_OF_THE_ARCHONS" "CLERIC_CONJURE_EARTH_ELEMENTAL" "CLERIC_GATE" "CLERIC_NATURE_BEAUTY" "CLERIC_FIRE_STORM" "CLERIC_SYMBOL_FEAR" "CLERIC_SUNRAY" "CLERIC_FINGER_OF_DEATH" "CLERIC_CONFUSION" "CLERIC_HOLY_WORD" "CLERIC_REGENERATE" "CLERIC_RESURRECTION" "CLERIC_RESTORATION" "CLERIC_ENERGY_DRAIN" "CLERIC_UNHOLY_WORD" "CLERIC_SPACE_WARP" "CLERIC_CREEPING_DOOM" "CLERIC_EARTHQUAKE" "CLERIC_ENERGY_BLADES" "CLERIC_STORM_OF_VENGEANCE" "CLERIC_ELEMENTAL_SWARM" "CLERIC_GREATER_ELEMENTAL_SWARM" "CLERIC_GLOBE_OF_BLADES" "CLERIC_SUMMON_DEVA" "CLERIC_SUMMON_FALLEN_DEVA" "CLERIC_IMPLOSION" "CLERIC_MASS_RAISE_DEAD" "CLERIC_AURA_OF_FLAMING_DEATH" "CLERIC_ELEMENTAL_TRANSFORMATION_FIRE" "CLERIC_ELEMENTAL_TRANSFORMATION_EARTH" "ENEMY_CLERIC_SLAY_LIVING" "ENEMY_CLERIC_HARM" "TRAP_HOLD_PERSON" "TRAP_SILENCE" "TRAP_CALL_LIGHTNING" "TRAP_MISCAST_MAGIC" "TRAP_FLAMESTRIKE" "TRAP_CHROMATIC_ORB" "TRAP_CONFUSION" "TRAP_DIRE_CHARM" "SHOAL_REVIVE" "TRAP_FIREBALL" "TRAP_LIGHTNING_BOLT" "TRAP_MAGIC_MISSILE" "TRAP_STINKING_CLOUD" "TRAP_ARROW" "TRAP_ARROW_SLAYING" "TRAP_ARROW_ACID" "TRAP_ARROW_BITING" "TRAP_ARROW_DETONATION" "TRAP_ARROW_DISPELLING" "TRAP_ARROW_FIRE" "TRAP_ARROW_ICE" "TRAP_ARROW_PIERCING" "TRAP_MONSTER_SUMMONING" "TRAP_FROST" "TRAP_CLOUDKILL" "TRAP_MINOR_LIGHTNING_BOLT" "TRAP_UNDERWATER_BITE" "TRAP_HALLWAY_SPIKES" "TRAP_MUCK" "TRAP_SHADOW_DEATH" "TRAP_GUILLOTINE" "TRAP_LIGHTNING_ORB1" "TRAP_LIGHTNING_ORB2" "TRAP_LIGHTNING_ORB3" "WIZARD_GREASE" "WIZARD_ARMOR" "WIZARD_BURNING_HANDS" "WIZARD_CHARM_PERSON" "WIZARD_COLOR_SPRAY" "WIZARD_BLINDNESS" "WIZARD_FRIENDS" "WIZARD_PROTECTION_FROM_PETRIFICATION" "WIZARD_HOLD_PORTAL" "WIZARD_IDENTIFY" "WIZARD_INFRAVISION" "WIZARD_MAGIC_MISSILE" "WIZARD_PROTECTION_FROM_EVIL" "WIZARD_SHIELD" "WIZARD_SHOCKING_GRASP" "WIZARD_SLEEP" "WIZARD_CHILL_TOUCH" "WIZARD_CHROMATIC_ORB" "WIZARD_LARLOCH_MINOR_DRAIN" "WIZARD_REFLECTED_IMAGE" "WIZARD_REVEAL_MAGIC" "WIZARD_PROTECTION_CIRCLE" "WIZARD_FIND_FAMILAR" "WIZARD_ALARM" "WIZARD_SPOOK" "WIZARD_BLUR" "WIZARD_DETECT_EVIL" "WIZARD_DETECT_INVISIBILITY" "WIZARD_FOG_CLOUD" "WIZARD_HORROR" "WIZARD_INVISIBILITY" "WIZARD_KNOCK" "WIZARD_KNOW_ALIGNMENT" "WIZARD_LUCK" "WIZARD_RESIST_FEAR" "WIZARD_MELF_ACID_ARROW" "WIZARD_MIRROR_IMAGE" "WIZARD_STINKING_CLOUD" "WIZARD_STRENGTH" "WIZARD_WEB" "WIZARD_WIZARD_LOCK" "WIZARD_AGANNAZAR_SCORCHER" "WIZARD_GHOUL_TOUCH" "WIZARD_VOCALIZE" "WIZARD_POWER_WORD_SLEEP" "WIZARD_RAY_OF_ENFEEBLEMENT" "WIZARD_DEAFNESS" "WIZARD_GLITTERDUST" "CONTINGENCY_MIRROR_IMAGE" "WIZARD_CLAIRVOYANCE" "WIZARD_DISPEL_MAGIC" "WIZARD_FLAME_ARROW" "WIZARD_FIREBALL" "WIZARD_HASTE" "WIZARD_HOLD_PERSON" "WIZARD_INVISIBILITY_10_FOOT" "WIZARD_LIGHTNING_BOLT" "WIZARD_MONSTER_SUMMONING_1" "WIZARD_NON_DETECTION" "WIZARD_PROTECTION_FROM_NORMAL_MISSILES" "WIZARD_SLOW" "WIZARD_SKULL_TRAP" "WIZARD_VAMPIRIC_TOUCH" "WIZARD_WRAITH_FORM" "WIZARD_DIRE_CHARM" "WIZARD_GHOST_ARMOR" "WIZARD_MINOR_SPELL_DEFLECTION" "WIZARD_PROTECTION_FROM_FIRE" "WIZARD_PROTECTION_FROM_COLD" "WIZARD_SPELL_THRUST" "WIZARD_DETECT_ILLUSION" "WIZARD_HOLD_UNDEAD" "WIZARD_MELF_METEOR" "WIZARD_TRUE_DISPEL_MAGIC" "WIZARD_CONFUSION" "WIZARD_DIMENSION_DOOR" "WIZARD_FIRE_SHIELD_BLUE" "WIZARD_ICE_STORM" "WIZARD_IMPROVED_INVISIBILITY" "WIZARD_MINOR_GLOBE_OF_INVULNERABILITY" "WIZARD_MONSTER_SUMMONING_2" "WIZARD_STONE_SKIN" "WIZARD_CONTAGION" "WIZARD_REMOVE_CURSE" "WIZARD_EMOTION_HOPELESSNESS" "WIZARD_GREATER_MALISON" "WIZARD_OTILUKES_RESILIENT_SPHERE" "WIZARD_SPIRIT_ARMOR" "WIZARD_POLYMORPH_OTHER" "WIZARD_POLYMORPH_SELF" "WIZARD_ENCHANTED_WEAPON" "WIZARD_FIRE_SHIELD_RED" "WIZARD_SECRET_WORD" "WIZARD_MINOR_SEQUENCER" "WIZARD_TELEPORT_FIELD" "WIZARD_SPIDER_SPAWN" "WIZARD_FAR_SIGHT" "WIZARD_EYE" "WIZARD_ANIMATE_DEAD" "WIZARD_CLOUDKILL" "WIZARD_CONE_OF_COLD" "WIZARD_MONSTER_SUMMONING_3" "WIZARD_SHADOW_DOOR" "WIZARD_DOMINATION" "WIZARD_HOLD_MONSTER" "WIZARD_CHAOS" "WIZARD_FEEBLEMIND" "WIZARD_SPELL_IMMUNITY" "WIZARD_PROTECTION_FROM_NORMAL_WEAPONS" "WIZARD_PROTECTION_FROM_ELECTRICITY" "WIZARD_BREACH" "WIZARD_LOWER_RESISTANCE" "WIZARD_ORACLE" "WIZARD_CONJURE_LESSER_FIRE_ELEMENTAL" "WIZARD_PROTECTION_FROM_ACID" "WIZARD_PHANTOM_BLADE" "WIZARD_SPELL_SHIELD" "WIZARD_CONJURE_LESSER_AIR_ELEMENTAL" "WIZARD_CONJURE_LESSER_EARTH_ELEMENTAL" "WIZARD_MINOR_SPELL_TURNING" "WIZARD_SUN_FIRE" "WIZARD_SPELL_IMMUNITY_ABJURATION" "WIZARD_SPELL_IMMUNITY_CONJURATION" "WIZARD_SPELL_IMMUNITY_DIVINATION" "WIZARD_SPELL_IMMUNITY_ENCHANTMENT" "WIZARD_SPELL_IMMUNITY_ILLUSIONIST" "WIZARD_SPELL_IMMUNITY_INVOCATION" "WIZARD_SPELL_IMMUNITY_NECROMANCY" "WIZARD_SPELL_IMMUNITY_ALTERATION" "WIZARD_INVISIBLE_STALKER" "WIZARD_GLOBE_OF_INVULNERABILITY" "WIZARD_TENSERS_TRANSFORMATION" "WIZARD_FLESH_TO_STONE" "WIZARD_DEATH_SPELL" "WIZARD_PROTECTION_FROM_MAGIC_ENERGY" "WIZARD_MISLEAD" "WIZARD_PIERCE_MAGIC" "WIZARD_TRUE_SIGHT" "WIZARD_MONSTER_SUMMONING_4" "WIZARD_PROTECTION_FROM_MAGIC_WEAPONS" "WIZARD_POWER_WORD_SILENCE" "WIZARD_IMPROVED_HASTE" "WIZARD_DEATH_FOG" "WIZARD_CHAIN_LIGHTNING" "WIZARD_DISINTEGRATE" "WIZARD_CONTINGENCY" "WIZARD_SPELL_DEFLECTION" "WIZARD_WYVERN_CALL" "WIZARD_CONJURE_FIRE_ELEMENTAL" "WIZARD_CONJURE_AIR_ELEMENTAL" "WIZARD_CONJURE_EARTH_ELEMENTAL" "WIZARD_CARRION" "WIZARD_SUMMON_NISHRUU" "WIZARD_STONE_TO_FLESH" "WIZARD_SPELL_TURNING" "WIZARD_PROTECTION_FROM_THE_ELEMENTS" "WIZARD_PROJECT_IMAGE" "WIZARD_RUBY_RAY_OF_REVERSAL" "WIZARD_WARDING_WHIP" "WIZARD_CACOFIEND" "WIZARD_MANTLE" "WIZARD_TATTOOS_OF_POWER" "WIZARD_SPELL_SEQUENCER" "WIZARD_SPHERE_OF_CHAOS" "WIZARD_DELAYED_BLAST_FIREBALL" "WIZARD_FINGER_OF_DEATH" "WIZARD_PRISMATIC_SPRAY" "WIZARD_POWER_WORD_STUN" "WIZARD_MORDENKAINENS_SWORD" "WIZARD_SUMMON_EFREET" "WIZARD_SUMMON_DJINNI" "WIZARD_SUMMON_HAKEASHAR" "WIZARD_CONTROL_UNDEAD" "WIZARD_MASS_INVISIBILITY" "WIZARD_LIMITED_WISH" "WIZARD_DELETED" "WIZARD_PROTECTION_FROM_ENERGY" "WIZARD_SIMULACRUM" "WIZARD_PIERCE_SHIELD" "WIZARD_SUMMON_FIEND" "WIZARD_IMPROVED_MANTLE" "WIZARD_SPELL_TRIGGER" "WIZARD_INCENDIARY_CLOUD" "WIZARD_SYMBOL_FEAR" "WIZARD_ABI_DALZIMS_HORRID_WILTING" "WIZARD_MAZE" "WIZARD_OTTOS_IRRESISTIBLE_DANCE" "WIZARD_POWER_WORD_BLIND" "WIZARD_SYMBOL_STUN" "WIZARD_SYMBOL_DEATH" "WIZARD_BIGBYS_CLENCHED_FIST" "WIZARD_NPC_SYMBOL_DEATH" "WIZARD_NPC_SYMBOL_STUN" "WIZARD_NPC_SYMBOL_FEAR" "WIZARD_SPELL_TRAP" "WIZARD_SPELL_STRIKE" "WIZARD_GATE" "WIZARD_ABSOLUTE_IMMUNITY" "WIZARD_CHAIN_CONTINGENCY" "WIZARD_TIME_STOP" "WIZARD_IMPRISONMENT" "WIZARD_METEOR_SWARM" "WIZARD_POWER_WORD_KILL" "WIZARD_WAIL_OF_THE_BANSHEE" "WIZARD_ENERGY_DRAIN" "WIZARD_BLACK_BLADE_OF_DISASTER" "WIZARD_SHAPECHANGE" "WIZARD_FREEDOM" "WIZARD_BIGBYS_CRUSHING_HAND" "WIZARD_WISH" "WIZARD_ENERGY_BLADES" "WIZARD_IMPROVED_ALUCRITY" "WIZARD_DRAGONS_BREATH" "WIZARD_SUMMON_PLANATAR_GOOD" "WIZARD_SUMMON_PLANATAR_EVIL" "WIZARD_COMET" "WIZARD_CHAOS_VISUALS_ONLY" "WIZARD_DISPEL_MAGIC_VISUALS_ONLY" "WIZARD_POWER_WORD_SILENCE_VISUALS_ONLY" "WIZARD_FLESH_TO_STONE_IGNORE_RESISTANCE" "WIZARD_FINGER_OF_DEATH_IGNORE_RESISTANCE" "WIZARD_DISINTEGRATE_IGNORE_RESISTANCE" "FORCE_DAMAGE_1" "BERESH_CHANGE" "KAISHAS_CHANGE" "QUICK_TELEPORT" "SUCCUBUS_ETHEREAL" "SUCCUBUS_ENERGY_DRAIN" "SUCCUBUS_CHARM_FEMALE" "SUCCUBUS_CHARM_MALE" "SUCCUBUS_TELEPORT" "TANARI_CHANGE" "DURLAG_SWORD" "CRUSHING_TRAP" "SUMMON_SKELETON_WARRIOR3" "SUMMON_SKELETON_WARRIOR2" "SUMMON_SKELETON_WARRIOR" "CHARM_HERO" "FIREDRAKE_DAMAGE" "LOVEM_CHANGE" "QUEEN_CHANGE" "SIRINE_DIRE_CHARM" "DAESEWOLF_CHANGE" "LOUPGAR_CHANGE" "PLAYER_WEREWOLF_CHANGE" "GREATER_WOLFWERE_CHANGE" "WEREWOLF_CHANGE" "WOLFWERE_CHANGE" "FAST_SKULLTRAP" "JELLY_SPLIT" "DRADEEL_FLAMEBLADE" "DRADEEL_BLUE_FIREBALL" "DRADEEL_MINOR_GLOBE" "PAIN" "FEAR" "RED_FIREBALL" "POWERWORD_BLIND" "POWERWORD_STUN" "POWERWORD_KILL" "DOPPLEGANGER_CHANGE4" "DOPPLEGANGER_CHANGE5" "DOPPLEGANGER_CHANGE6" "DOPPLEGANGER_CHANGE7" "DOPPLEGANGER_CHANGE8" "SAREVOK_STRIKE" "FIREBALL_DEATH" "MUSHROOM_FIRE" "DAERRAGH" "RISE_FROM_ASH" "RED_SWIRL" "RED_HOLY_MIGHT" "SPIDER_SUMMON" "DOPPLEGANGER_CHANGE_DEFAULT_LESSER" "DOPPLEGANGER_CHANGE_DEFAULT" "EFFECT_ONLY" "DOPPLEGANGER_CHANGE3" "DOPPLEGANGER_RASHAD" "DOPPLEGANGER_CHANGE2" "DOPPLEGANGER_CHANGE" "PHASE_SPIDER_TELEPORT" "DRYAD_TELEPORT" "CHARM_KORAX" "GORION_LIGHTNING" "GORION_MAGIC_MISSILE" "DIETY_KILL" "GOLEM_HASTE" "GOLEM_GASCLOUD" "BEHOLDER_CHARM_PERSON" "BEHOLDER_FEAR" "BEHOLDER_DISINTEGRATE" "BEHOLDER_SLOW" "BEHOLDER_FLESH_TO_STONE" "BEHOLDER_DOMINATION" "BEHOLDER_CAUSE_SERIOUS_WOUNDS" "BEHOLDER_AGANNAZAR_SCORCHER" "BEHOLDER_HOLD_PERSON" "BEHOLDER_LIGHTNING_BOLT" "BEHOLDER_PARALYZATION" "BEHOLDER_DEATH_RAY" "BEHOLDER_ANTIMAGIC_RAY" "BEHOLDER_SPELL_TURNING" "ACID_DAMAGE_1" "TANARI_DEATH_GAZE" "TANARI_VAMPIRIC_TOUCH" "TANARI_SILENCE" "TANARI_PARALYZE" "GOLEM_SLOW" "GOLEM_CONFUSION" "MIND_FLAYER_DOMINATION" "MIND_FLAYER_PSIONIC_BLAST" "AIR_ELEMENTAL_EFFECT" "DJINNI_GAS_FORM_CHANGE" "DOA_GAS_FORM_CHANGE" "EFREETI_GAS_FORM_CHANGE" "DJINNI_PHYSICAL_FORM_CHANGE" "DOA_PHYSICAL_FORM_CHANGE" "EFREETI_PHYSICAL_FORM_CHANGE" "TROLL_SLEEP" "TROLL_HEAL_ONE_HIT_POINT" "VAMPIRE_GAS_FORM_CHANGE" "VAMPIRE_BAT_FORM_CHANGE" "BEHOLDER_MAGIC_MISSILE" "BEHOLDER_FINGER_OF_DEATH" "BEHOLDER_PARALYZATION_RAY" "ULITHARID_PSIONIC_BLAST" "ULITHARID_CURE_SERIOUS_WOUNDS" "GHOULLORD_FEAR" "HELL_HOUND_FLAME" "TROLL_CHANGE" "SIRINE_TELEPORT_FAKE" "CUTSCENE_IMPRISONMENT" "CUTSCENE_PHANTASMAL_KILLER" "CUTSCENE_POWERWORD_KILL" "CUTSCENE_FLESH_TO_STONE" "CUTSCENE_RUBY_RAY_OF_REVERSAL" "CUTSCENE_LOWER_RESISTANCE" "CUTSCENE_MIND_FOG" "CUTSCENE_BREACH" "CUTSCENE_SPELLSTRIKE" "CUTSCENE_POWERWORD_STUN" "MEPHIT_BLUR" "MEPHIT_GRIT" "MEPHIT_SPIT_ROCK" "MEPHIT_STINKING_CLOUD" "MEPHIT_FLAME_JET" "MEPHIT_FLAME_FAN" "MEPHIT_COLOR_SPRAY" "MEPHIT_ICE_SHARD" "MEPHIT_GLASS_DUST" "MEPHIT_SALT_CRYSTAL" "MEPHIT_LIGHTNING_BOLT" "MEPHIT_BOLT" "MEPHIT_SOOTY_BALL" "MEPHIT_LAVA" "MEPHIT_MIST" "MEPHIT_GAS_FORM" "MEPHIT_RAINSTORM" "MEPHIT_WATER_JET" "COVER_FULL" "COVER_PARTIAL" "GENIE_LIMITED_WISH_HEAL_ALL" "REVENANT_CHANGE" "JAHEIRA_WEAKNESS" "HARPASS_CHANGE" "MANE_GAS" "EDWIN_CHANGE" "SPIDER_CHANGE" "MIMIC_GLUE" "MIMIC_ACID" "PSIONIC_DETONATE" "PSIONIC_BALLISTIC" "PSIONIC_DOMINATION" "PSIONIC_EGOWHIP" "FIFTY_PERCENT_DAMAGE" "FIFTY_PERCENT_DAMAGE_ARROW" "THREE_ROUND_ENCHANTMENT_IMMUNITY" "DO_NOTHING" "LASSAL_MIST_CHANGE" "BODVAM01_MIST_CHANGE" "BODVAM02_MIST_CHANGE" "ZOMBIE_CON_LOSS" "ZOMBIE_CHANGE" "ZOMBIE_SICKNESS" "RED_EFFECT" "ARCHER_PROTECTION" "BEHOLDER_GAS_SPORE" "REPULSE_X" "DRAGON_FEAR" "RED_DRAGON_BREATH" "SHADOW_DRAGON_BREATH" "SURE_SLEEP" "MOON_DOG_FEAR" "DEMON_FEAR" "SURE_STONED" "SURE_STONE_SHATTER" "SUMMONED_MIND" "RAELIS_OPEN_PORTAL" "KAMIKAZE_EXPLOSION" "CHICKEN_CHANGE" "VAMPIRE_DOMINATION" "VAMPIRE_FEAR" "GREATER_WEREWOLF_CHANGE" "SUMMON_SHADOW" "MAKE_SHADOW" "SHADOW_DRAIN" "APPRENTI_DEATH" "ANATH_WEREWOLF" "ANATH_WEREWOLF2" "FALDORN_PANTHER" "UNPAUSE_CASTER" "FIVE_ROUND_ENCHANTMENT_IMMUNITY" "END_EXPLORE" "SUMMON_SHADOW_WOLF" "CERND_BEAR" "CERND_CERND" "RED_PILLAR_VISUAL" "FORCE_DISPEL_MAGIC" "FORCE_STONE_TRAP" "TRANSFORMATION_DEATH" "HOLD_PARTY" "NOHOLD_PARTY" "ONE_CON" "ONE_DEX" "ONE_WIS" "ONE_INT" "SUMMON_PIT_FIEND" "SUMMON_DEATH_KNIGHT" "SUMMON_DJINN_TRAP" "MAGNET" "FORCE_SPHERE" "SLAYER_CHANGE" "FIRAMB01_CHANGE" "DGTROLL_CHANGE" "TROLL_SMALL_CHANGE" "DISARM_ENEMY" "FIRAMB05_CHANGE" "SAND_DIE" "BOOK_KOBOLD" "BOOK_SPIDER" "BOOK_UMBER" "BOOK_MIND" "BOOK_BEHOLD" "BOOK_GOLEM" "HULK_CONFUSION" "LOSE_ALL" "JON_WISH" "JON_ALL_DEAD" "ILLUSION_DEATH" "BRAIN_PSIONIC_BLAST" "SILVER_DRAGON_BREATH_COLD" "SILVER_DRAGON_BREATH_PARALIZATION" "UNDER_SQUIRREL" "UNDER_NORM" "JAN_AMMO" "MAZZY_HASTE" "MAZZY_LAY" "MAZZY_STRENGTH" "DROW_CHANGE" "DEATH_CURSE" "SLAYER_CHANGE_TWO" "SLAYER_START" "LONG_RED_MIGHT" "ELVEN_GUARD_WAIL" "LAVA_BURST" "C6VAMPIRE_WEAKNESS" "C6BODHI_WEAKNESS" "VALEN_MIST_FORM_CHANGE" "DEL_MIST_FORM_CHANGE" "TANOVA_MIST_FORM_CHANGE" "SLAVE_CHUNK" "DEL_VAMP_FORM_CHANGE" "VAMPIRE_FORM_CHANGE" "GIVE_SLAYER_POWER" "BODHI_MIST_FORM_CHANGE" "DRAIN_PARTY" "SLAYER_FEAR" "MINSC_BERSERK" "LICH_REPLACE_SELF" "THIEF_DETECT_ILLUSION" "PSIONIC_EMOTION_KILL" "DACE_MIST_FORM_CHANGE" "MIND_CRIPPLE" "NO_FEAR_PARTY" "FLAME_HEAD" "DACE_FLAME" "BODHI_BAT_ASYLUM" "FLASHY_1" "FLASHY_2" "FLASHY_3" "FLASHY_4" "FLASHY_DEATH_YEAH" "LONG_VISUAL" "TROLL_ICE_CHANGE" "LONG_VISUAL2" "DEMILICH_DEATH" "DEMILICH_TRAP_SOUL" "WIZARD_DISINTEGRATE2_IGNORE_RESISTANCE" "SMALL_DAMAGE_SPELL" "LICH_IMPRISON" "PERM_CHARM" "SNAKE_GAZE" "SLAYER_ENEMY" "FLASHY_DEATH_1" "FLASHY_DEATH_2" "FLASHY_DEATH_3" "ANTI_MAGIC_ZONE" "WILD_MAGIC_ZONE" "BEHOLDER_BLAST_VISUAL" "MAKE_STATUE" "PSIONIC_MIND_BLAST" "PSIONIC_MAZE" "EVIL_LAYONHANDS" "HELL_FEAR" "HELL_DAMAGE_HALF" "HELL_EXPLODE" "HELL_HOLD" "HELL_DISPELL" "HELL_LOSE_HP" "HELL_LOSE_DEX" "HELL_LOSE_XP" "HELL_GAIN_STR" "HELL_GAIN_INT" "HELL_GAIN_WIS" "HELL_GAIN_DEX" "HELL_GAIN_CON" "HELL_GAIN_CHR" "PLAYER1_WORD_OF_POWER" "IRENICUS_WORD_OF_POWER" "HELL_GREED_GOOD" "HELL_GREED_EVIL" "HELL_FEAR_GOOD" "HELL_FEAR_EVIL" "HELL_PRIDE_GOOD" "HELL_PRIDE_EVIL" "HELL_WRATH_GOOD" "HELL_WRATH_EVIL" "HELL_SELFISH_GOOD" "HELL_SELFISH_EVIL" "RESTORE_FULL_HEALTH" "PALADIN_LAY_ON_HANDS" "RANGER_CHARM_ANIMAL" "AERIE_PORTRAIT" "TROLL_DESERT_CHANGE" "TROLL_FRESHWATER_CHANGE" "TROLL_GIANT_CHANGE" "TROLL_SPIRIT_CHANGE" "TROLL_SNOW_CHANGE" "TROLL_SPECTRAL_CHANGE" "WISH_PLANE" "WISH_MEMORIZE" "WISH_GLOBE" "WISH_RABBIT" "WISH_HEAL_PARTY" "WISH_POISON" "WISH_LOSE_SPELL" "WISH_SPELL_FAILURE" "SUMMON_FUNGUS" "SKIN_DANCER_SWITCH" "SKIN_DANCER_RESTORE" "NOSAVE_PSIONIC_BLAST" "CUTSCENE_DAMAGE_1" "SKIN_DANCER_RESTORE_2" "RAISSA_RESTORE" "DRAGON_RAIN" "GREAT_DRUID_TITLE" "CUTSCENE_DAMAGE_1B" "CUTSCENE_DAMAGE_1C" "CUTSCENE_METEOR_SWARM" "SLAYER_BACK_TO_HUMAN" "SLAYER_CHANGE_CUT_SCENE" "SLAYER_IMMUNE_TO_DAMAGE" "TROLL_RAT_SPAWN" "CELESTIAL_BOLT" "ICE_DUST" "MULTIPLAYER_ANTIMAGIC" "FINAL_HEAL" "SPELL_DEFLECTION_NO_VISUAL" "TRAP_SPEAR" "TRAP_SLIME" "TRAP_DARTS" "TRAP_VENT" "TRAP_PENDULUM" "NYMPH_CONFUSION" "DRUID_HUMAN_FORM" "AERIE_DISPEL_MAGIC" "FAKE_FLAME_STRIKE" "DEATHKNIGHT_FIREBALL" "TROLL_SETHP1" "INVISIBILITY_SELF" "NON_DETECTION_SELF" "HASTE_SELF" "MOON_DOG_HOWL" "DRAGON_WING_BUFFET" "DRAGON_STONE_SKIN" "RED_DRAGON_HIT" "SALAMANDER_BREATHE_FIREBALL" "DRAGON_SILENCE" "BLACK_DRAGON_BREATH" "KENSAI_KIA" "INQUIS_DISPEL_MAGIC" "INQUIS_TRUE_SIGHT" "ARCHER_CALL_SHOT" "BERSERKER_RAGE" "BARBARIAN_RAGE" "ASSASSIN_POISON" "MONK_STUNNING_BLOW" "MONK_LAY_ON_HANDS" "MONK_QUIVERING_PALM" "HOLY_LIGHT_FROM_ABOVE" "BLACK_DRAGON_INSECT" "BLACK_DRAGON_PLANT" "SHADOW_DRAGON_SHADOWS" "PROTECTION_MAGIC_WEAPON_NOEFF" "MAGIC_MISSILE_SURE_HIT" "KOA_TRUE_SIGHT_NO_VIS" "FIGURINE_SPIDER_WEB" "DRAGON_LOWER_FIRE" "BANSHEE_WAIL" "HARPER_DEATH_SONG" "HEAL_NO_VISUAL" "ANOMEN_TITLE" "SUMMON_POISON" "INVOKE_COURAGE" "MIST_HORROR" "MIST_CHAOS" "SPORE_DEATH" "QUICK_INVISIBLE" "SWOOSH_GONE" "SEA_TROLL_CHANGE" "APPLY_NON_PERMANENT_DEATH" "REMOVE_NON_PERMANENT_DEATH" "SLAYER_BACK_TO_HUMAN_NOVIS" "ZOMBIE_LEVEL_DRAIN" "BEHOLDER_BLAST_VISUAL2" "BARBARIAN_RAGE" "NETHER_SCROLL" "CREATE_YOSHIMO_BLADE" "EDWIN_CHANGE_BACK" "EDWINA_IN_HELL" "POOF_GONE" "TROLL_CHANGE_NITHIRI" "HELL_BUFFET" "DO_SOME_EFFECTS" "VIEKANG_LIGHTNING" "DM_IMPROVED_HASTE" "DM_FIRE_PROTECTION" "DM_COLD_PROTECTION" "DM_MAGIC_PROTECTION" "DM_SEE_INVISIBLE" "DM_SHIELD" "ENTER_POCKET_PLANE" "HOLD_PERSON_NO_SAVE" "DISPEL_NO_SAVE" "DEAD_MAGIC_AREA" "WILD_MAGIC_AREA" "BALOR_FIRE_SHIELD" "FAN_BLOW" "POISONOUS_CLOUD" "DECK_VITALITY_DRAIN" "DECK_XP_DRAIN" "DECK_PLAGUE" "DECK_TRIUMPH" "DECK_GUILE" "DECK_DEFIANCE" "DECK_STRIFE" "DECK_HIGH_PRIESTESS" "DECK_EMPRESS" "DECK_EMPEROR" "DECK_CONSTRUCT" "DECK_STRENGTH" "DECK_WHEEL" "SLOW_FREEZE" "FROZEN_DEATH" "DECK_DONJON" "DECK_RUIN" "DECK_VOID" "DECK_MAGICIAN" "DECK_SKULL" "DECK_KEY" "DECK_STAR" "DECK_THRONE" "DECK_MOON" "DECK_EURYALE" "DECK_FLAMES" "DECK_KNIGHT" "DECK_ROGUE" "DECK_TALONS" "DECK_FOOL" "DECK_COMET" "DECK_FATES" "DECK_GEM" "DECK_VIZIER" "DECK_JESTER" "DECK_SUN" "CHROMATIC_DEMON_YELLOW" "CHROMATIC_DEMON_GREEN" "CHROMATIC_DEMON_WHITE" "CHROMATIC_DEMON_RED" "SPECIAL_SWEET_AIR" "SAREVOK_SOULSTEAL" "FIRE_HEALING" "SAREVOK_FLASHY1" "BLUE_DRAGON_BREATH" "BROWN_DRAGON_BREATH" "YELLOW_DRAGON_BREATH" "DEMOGORGON_CHANGE" "ODREN_RITUAL_SCROLL" "HELM_RITUAL_SCROLL" "GAIN_ONE_STR_PERMANENT" "GAIN_ONE_CON_PERMANENT" "LOSE_ONE_INT_PERMANENT" "LOSE_ONE_DEX_PERMANENT" "LOSE_FIVE_LEVELS" "LOSE_FIFTEEN_LEVELS" "GAIN_MAGIC_RESIST_PERMANENT" "GAIN_HASTE_TEMPORARY" "POISON_NO_SAVE" "CONFUSION_NO_SAVE" "RESTORATION_IGNORE_RESIST" "IMPRISONMENT_NO_SAVE" "POWER_AMP" "GAIN_ONE_AC" "GAIN_ONE_THACO" "DENSE_PUDDING_SPLIT" "VORTEX_WEB" "IMOEN_BHAAL1" "IMOEN_BHAAL2" "CUTSCENE_HASTE" "SUCCUBUS_KISS" "SUMMON_FIRE_ELEMENTAL" "SUMMON_ICE_SALAMANDER" "MIMIC_POISON" "MIMIC_FIRE" "MIMIC_WEB" "WARRIOR_WHIRLWIND" "WARRIOR_GREATER_WHIRLWIND" "WARRIOR_DEATHBLOW" "WARRIOR_GREATER_DEATHBLOW" "WARRIOR_RESIST_MAGIC" "WARRIOR_CRITICAL_STRIKE" "WARRIOR_POWER_ATTACK" "WARRIOR_HARDINESS" "WARRIOR_WAR_CRY" "WARRIOR_SMITE" "ROGUE_SET_SPIKE_TRAP" "ROGUE_SET_EXPLODING_TRAP" "ROGUE_SET_TIME_TRAP" "ROGUE_EVASION" "ROGUE_GREATER_EVASION" "ROGUE_ASSASINATION" "ROGUE_AVOID_DEATH" "PALADIN_SUMMON_DEVA" "DRUID_IMMUNE_POISON" "DRUID_RESISTS" "GAROCK_TELEPORT" "SKULL_EXPLODE" "HOLY_PILLAR_VISUAL" "ICE_GOLEM_STEAM" "FIRE_GIANT_LAVA" "BURNING_MAN_CINDER_SHOWER" "BURNING_MAN_KEENING" "ERINYES_CHARM" "GAIN_ONE_DEX_PERMANENT" "GAIN_ONE_INT_PERMANENT" "GAIN_ONE_WIS_PERMANENT" "GAIN_ONE_CHA_PERMANENT" "NALMISSRA_CHARM" "HIVE_MOTHER_DISINTEGRATE" "HIVE_MOTHER_CAUSE_SERIOUS_WOUNDS" "HIVE_MOTHER_ANTIMAGIC_RAY" "SUMMON_INFERNAL_HOST" "DEMOGORGON_GATE" "PSIONIC_PROJECT_FORCE" "PSIONIC_INERTIAL_BARRIER" "PSIONIC_LIFE_DRAIN" "PSIONIC_SUPERIOR_INVISIBILITY" "PSIONIC_INFLICT_PAIN" "PSIONIC_DISINTEGRATE" "SAR_DIVINATION" "RABBIT_POWER" "FLAMING_SKULL_BOLT" "MAJOR_POLYMORPH" "TROLL_FIRE_CHANGE" "LICH_FEAR" "GREEN_DRAGON_BREATH" "SUMMON_DEVIL_SHADE" "SENDAI_CHANGE" "DRAGON_LOWER_ELECTRICAL" "ABAZIGAL_SHOCKWAVE" "SET_SNARE_TRAP" "SET_SPECIAL_SNARE_TRAP" "CLERIC_SYMBOL_STUN" "CLERIC_SYMBOL_DEATH" "BERSERKER_ENRAGE" "THIEF_SET_SNARE" "THIEF_SET_SPECIAL_SNARE" "STATE_NORMAL" "STATE_DEAD" "STATE_ACID_DEATH" "STATE_FLAME_DEATH" "STATE_EXPLODING_DEATH" "STATE_STONE_DEATH" "STATE_FROZEN_DEATH" "STATE_HELPLESS" "STATE_INVISIBLE" "STATE_STUNNED" "STATE_PANIC" "STATE_BERSERK" "STATE_SLEEPING" "STATE_SILENCED" "STATE_CHARMED" "STATE_POISONED" "STATE_HASTED" "STATE_SLOWED" "STATE_INFRAVISION" "STATE_BLIND" "STATE_DISEASED" "STATE_FEEBLEMINDED" "STATE_NONDETECTION" "STATE_IMPROVEDINVISIBILITY" "STATE_BLESS" "STATE_CHANT" "STATE_DRAWUPONHOLYMIGHT" "STATE_LUCK" "STATE_AID" "STATE_CHANTBAD" "STATE_BLUR" "STATE_MIRRORIMAGE" "STATE_CONFUSED" "STATE_REALLY_DEAD" "MAXHITPOINTS" "ARMORCLASS" "ACCRUSHINGMOD" "ACMISSILEMOD" "ACPIERCINGMOD" "ACSLASHINGMOD" "THAC0" "NUMBEROFATTACKS" "SAVEVSDEATH" "SAVEVSWANDS" "SAVEVSPOLY" "SAVEVSBREATH" "SAVEVSSPELL" "RESISTFIRE" "RESISTCOLD" "RESISTELECTRICITY" "RESISTACID" "RESISTMAGIC" "RESISTMAGICFIRE" "RESISTMAGICCOLD" "RESISTSLASHING" "RESISTCRUSHING" "RESISTPIERCING" "RESISTMISSILE" "LORE" "LOCKPICKING" "STEALTH" "TRAPS" "PICKPOCKET" "FATIGUE" "INTOXICATION" "LUCK" "TRACKING" "LEVEL" "SEX" "STR" "STREXTRA" "INT" "WIS" "DEX" "CON" "CHR" "XPVALUE" "XP" "GOLD" "MORALEBREAK" "MORALERECOVERYTIME" "REPUTATION" "HATEDRACE" "DAMAGEBONUS" "SPELLFAILUREMAGE" "SPELLFAILUREPRIEST" "SPELLDURATIONMODMAGE" "SPELLDURATIONMODPRIEST" "TURNUNDEADLEVEL" "BACKSTABDAMAGEMULTIPLIER" "LAYONHANDSAMOUNT" "HELD" "POLYMORPHED" "TRANSLUCENT" "IDENTIFYMODE" "ENTANGLE" "SANCTUARY" "MINORGLOBE" "SHIELDGLOBE" "GREASE" "WEB" "LEVEL2" "LEVEL3" "CasterHold" "ENCUMBERANCE" "MISSILETHAC0BONUS" "MAGICDAMAGERESISTANCE" "RESISTPOISON" "DONOTJUMP" "AURACLEANSING" "MENTALSPEED" "PHYSICALSPEED" "CASTINGLEVELBONUSMAGE" "CASTINGLEVELBONUSCLERIC" "SEEINVISIBLE" "IGNOREDIALOGPAUSE" "MINHITPOINTS" "THAC0BONUSRIGHT" "THAC0BONUSLEFT" "DAMAGEBONUSRIGHT" "DAMAGEBONUSLEFT" "STONESKINS" "PROFICIENCYBASTARDSWORD" "PROFICIENCYLONGSWORD" "PROFICIENCYSHORTSWORD" "PROFICIENCYAXE" "PROFICIENCYTWOHANDEDSWORD" "PROFICIENCYKATANA" "PROFICIENCYSCIMITARWAKISASHININJATO" "PROFICIENCYDAGGER" "PROFICIENCYWARHAMMER" "PROFICIENCYSPEAR" "PROFICIENCYHALBERD" "PROFICIENCYFLAILMORNINGSTAR" "PROFICIENCYMACE" "PROFICIENCYQUARTERSTAFF" "PROFICIENCYCROSSBOW" "PROFICIENCYLONGBOW" "PROFICIENCYSHORTBOW" "PROFICIENCYDART" "PROFICIENCYSLING" "PROFICIENCYBLACKJACK" "PROFICIENCYGUN" "PROFICIENCYMARTIALARTS" "PROFICIENCY2HANDED" "PROFICIENCYSWORDANDSHIELD" "PROFICIENCYSINGLEWEAPON" "PROFICIENCY2WEAPON" "EXTRAPROFICIENCY1" "EXTRAPROFICIENCY2" "EXTRAPROFICIENCY3" "EXTRAPROFICIENCY4" "EXTRAPROFICIENCY5" "EXTRAPROFICIENCY6" "EXTRAPROFICIENCY7" "EXTRAPROFICIENCY8" "EXTRAPROFICIENCY9" "EXTRAPROFICIENCY10" "EXTRAPROFICIENCY11" "EXTRAPROFICIENCY12" "EXTRAPROFICIENCY13" "EXTRAPROFICIENCY14" "EXTRAPROFICIENCY15" "EXTRAPROFICIENCY16" "EXTRAPROFICIENCY17" "EXTRAPROFICIENCY18" "EXTRAPROFICIENCY19" "EXTRAPROFICIENCY20" "HIDEINSHADOWS" "DETECTILLUSIONS" "SETTRAPS" "PUPPETMASTERID" "PUPPETMASTERTYPE" "PUPPETTYPE" "PUPPETID" "CHECKFORBERSERK" "BERSERKSTAGE1" "BERSERKSTAGE2" "DAMAGELUCK" "CRITICALHITBONUS" "VISUALRANGE" "EXPLORE" "THRULLCHARM" "SUMMONDISABLE" "HITBONUS" "KIT" "FORCESURGE" "SURGEMOD" "IMPROVEDHASTE" "SCRIPTINGSTATE1" "SCRIPTINGSTATE2" "SCRIPTINGSTATE3" "SCRIPTINGSTATE4" "SCRIPTINGSTATE5" "SCRIPTINGSTATE6" "SCRIPTINGSTATE7" "SCRIPTINGSTATE8" "SCRIPTINGSTATE9" "SCRIPTINGSTATE10" "STONESKINSGOLEM" "LEVELDRAIN" "MIDNIGHT" "NOON" "DAWN_START" "DAWN_END" "DUSK_START" "DUSK_END" "DAY" "DUSK" "NIGHT" "MORNING" "NOWEATHER" "RAIN" "SNOW" "FOG") 'words))

(defconst weidu-baf-objects (regexp-opt '("Nothing" "Myself" "LeaderOf" "GroupOf" "WeakestOf" "StrongestOf" "MostDamagedOf" "LeastDamagedOf" "ProtectedBy" "ProtectorOf" "LastAttackerOf" "LastTargetedBy" "NearestEnemyOf" "LastCommandedBy" "Nearest" "LastHitter" "LastHelp" "LastTrigger" "LastSeenBy" "LastTalkedToBy" "LastHeardBy" "Player1" "Player2" "Player3" "Player4" "Player5" "Player6" "Protagonist" "StrongestOfMale" "SecondNearestEnemyOf" "ThirdNearestEnemyOf" "FourthNearestEnemyOf" "FifthNearestEnemyOf" "SixthNearestEnemyOf" "SeventhNearestEnemyOf" "EighthNearestEnemyOf" "NinthNearestEnemyOf" "TenthNearestEnemyOf" "SecondNearest" "ThirdNearest" "FourthNearest" "FifthNearest" "SixthNearest" "SeventhNearest" "EighthNearest" "NinthNearest" "TenthNearest" "WorstAC" "BestAC" "LastSummonerOf" "NearestEnemyOfType" "SecondNearestEnemyOfType" "ThirdNearestEnemyOfType" "FourthNearestEnemyOfType" "FifthNearestEnemyOfType" "SixthNearestEnemyOfType" "SeventhNearestEnemyOfType" "EigthNearestEnemyOfType" "NinthNearestEnemyOfType" "TenthNearestEnemyOfType" "NearestMyGroupOfType" "SecondNearestMyGroupOfType" "ThirdNearestMyGroupOfType" "FourthNearestMyGroupOfType" "FifthNearestMyGroupOfType" "SixthNearestMyGroupOfType" "SeventhNearestMyGroupOfType" "EigthNearestMyGroupOfType" "NinthNearestMyGroupOfType" "TenthNearestMyGroupOfType" "Player1Fill" "Player2Fill" "Player3Fill" "Player4Fill" "Player5Fill" "Player6Fill" "NearestDoor" "SecondNearestDoor" "ThirdNearestDoor" "FourthNearestDoor" "FifthNearestDoor" "SixthNearestDoor" "SeventhNearestDoor" "EighthNearestDoor" "NinthNearestDoor" "TenthNearestDoor") 'words))

(defconst weidu-baf-font-lock-keywords-1 
  (list
   (cons weidu-baf-triggers font-lock-builtin-face)
   (cons weidu-baf-actions font-lock-function-name-face)
   (cons (regexp-opt '("IF" "THEN" "RESPONSE" "END")) font-lock-type-face)
   (cons weidu-baf-constants font-lock-constant-face)
   (cons weidu-baf-objects font-lock-variable-name-face)))

;font-lock-comment-face           -maroon
;font-lock-comment-delimiter-face -maroon
;font-lock-doc-face               -beige
;font-lock-string-face            -beige
;font-lock-keyword-face           -purple
;font-lock-builtin-face           -pink
;font-lock-function-name-face     -blue
;font-lock-variable-name-face     -yellow
;font-lock-type-face              -green
;font-lock-constant-face          -teal
;font-lock-preprocessor-face      -maroon
;font-lock-negation-char-face     -black
;font-lock-warning-face           -red

(defvar weidu-baf-font-lock-keywords weidu-baf-font-lock-keywords-1)

;; IF
;;   Triggers
;; THEN
;;   RESPONSE #x
;;     Actions
;; END

(defcustom weidu-baf-indent-width 2
  "Width of indentation"
  :type 'integer)

(defun weidu-baf-indent-line (&optional move-point)
  "Indents the current line and optionally moves point to the end of the inserted whitespace."
  (interactive)
  (let (indentedp indent indent-from (lines-moved 0))
    (save-excursion
      (beginning-of-line)
      ;;Indent THEN and END
      (when (or (bobp) (looking-at "^[ \t]*THEN") (looking-at "^[ \t]*END"))
	(setq indent 0)
	(setq indentedp t))
      ;;Indent RESPONSE
      (when (looking-at "^[ \t]*RESPONSE")
	(setq indent weidu-baf-indent-width)
	(setq indentedp t))
      ;;Get the relative indentation offset
      (save-excursion
	(while (and (not (looking-at "IF")) (not (bobp)))
	  (if (looking-at "^[ \t]*IF")
	      (while (not (looking-at "IF"))
		(forward-char))
	      (forward-line -1)))
	(setq indent-from (current-indentation)))
      ;;Indent triggers and actions
      (while (not indentedp)
	(forward-line -1)
	(decf lines-moved 1)
	(cond ((looking-at "^[ \t]*IF")
	       (progn
		 (setq indent weidu-baf-indent-width)
		 (setq indentedp t)))
	      ((bobp)
	       (progn
		 (setq indent 0)
		 (setq indentedp t)))
	      ((and (looking-at "^[ \t]*OR") (weidu-baf-within-orp lines-moved)) ;write this
	       (progn
		 (setq indent (* weidu-baf-indent-width 2))
		 (setq indentedp t)))
	      ((looking-at "^[ \t]*THEN")
	       (progn
		 (setq indent weidu-baf-indent-width)
		 (setq indentedp t)))
	      ((looking-at "^[ \t]*RESPONSE")
	       (progn
		 (setq indent (* weidu-baf-indent-width 2))
		 (setq indentedp t)))
	      ((looking-at "^[ \t]*END")
	       (progn
		 (setq indent 0)
		 (setq indentedp t))))))
    (if move-point
	(indent-line-to (+ indent indent-from))
        (save-excursion
	  (indent-line-to (+ indent indent-from))))))

(defun weidu-baf-within-orp (lines-moved)
  t)

(defun weidu-baf-indent-block ()
  "Indents the current block, from IF to END."
  (interactive)
  (save-excursion
    (beginning-of-line)
    (unless (looking-at "^[ \t]*IF")
      (while (and (not (bobp)) (not (looking-at "^[ \t]*IF")) (not (looking-at "^[ \t]*END")))
	(forward-line -1)))
    (when (looking-at "^[ \t]*IF")
      (let (done)
	(while (null done)
	  (weidu-baf-indent-line)
	  (forward-line 1)
	  (when (eobp)
	    (setq done t))
	  (when (looking-at "^[ \t]*END")
	    (weidu-baf-indent-line)
	    (setq done t)))))))

(defun weidu-baf-indent-buffer ()
  (interactive)
  (save-excursion
    (beginning-of-buffer)
    (while (not (eobp))
      (weidu-baf-indent-line)
      (forward-line 1))))

(defun weidu-baf-indent-newline-indent ()
  "Indents the current line, inserts a newline and indents while moving point."
  (interactive)
  (weidu-baf-indent-line)
  (newline)
  (weidu-baf-indent-line t))

(defvar weidu-baf-mode-syntax-table
  (let ((table (make-syntax-table)))
    (modify-syntax-entry ?_ "w" table)
    ;(modify-syntax-entry ?# "w" table) ;Probably shouldn't have this
    ;(modify-syntax-entry ?~ "\"\""  table) ;Treat ~ as a string delimiter - is annoying and doesn't work with ~~~~~
    (modify-syntax-entry ?/ ". 124b" table)
    (modify-syntax-entry ?* ". 23" table)
    (modify-syntax-entry ?\n "> b" table)
    table))

(defun weidu-baf-mode ()
  (interactive)
  (kill-all-local-variables)
  (use-local-map weidu-baf-mode-map)
  (set-syntax-table weidu-baf-mode-syntax-table)
  (set (make-local-variable 'font-lock-defaults) '(weidu-baf-font-lock-keywords))
  (set (make-local-variable 'indent-line-function) 'weidu-baf-indent-line)
  (setq mode-name "WeiDU-BAF")
  (run-hooks 'weidu-baf-mode-hook)
  (setq major-mode weidu-baf-mode))

(provide 'weidu-baf-mode)